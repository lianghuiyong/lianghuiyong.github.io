(window.webpackJsonp=window.webpackJsonp||[]).push([[15,4],{430:function(e,t,n){var content=n(449);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(43).default)("0b8ad65e",content,!0,{sourceMap:!1})},431:function(e,t,n){"use strict";n.r(t);var o=n(122),r={props:["show","parent","item","editType","editContentType"],watch:{show:function(e,t){e&&(0==this.editType?(this.menuName="",this.menuInfo="",this.menuUrl=""):1==this.editType&&(this.menuName=this.item.menuName,this.menuInfo=this.item.menuInfo,this.menuUrl=this.item.menuUrl))}},data:function(){return{menuName:"",menuInfo:"",menuUrl:""}},methods:{close:function(){this.$emit("close")},commit:function(){var e=this,t=0==this.editType?{menuName:this.menuName,menuInfo:this.menuInfo,menuUrl:this.menuUrl,parentMenuId:this.parent?this.parent.id:""}:{id:this.item.id,menuName:this.menuName,menuInfo:this.menuInfo,menuUrl:this.menuUrl},n=0==this.editType?o.a.USER_MENU_ADD:o.a.USER_MENU_EDIT;this.$axios.post(n,t).then((function(t){e.$emit("closeAndRefresh")})).catch((function(t){e.$message.warning(t.message)}))}}},m=(n(448),n(35)),component=Object(m.a)(r,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("el-dialog",{attrs:{title:0==e.editType?"添加菜单":"编辑菜单",visible:e.show,"append-to-body":!0,width:"30%",top:"20%",center:""},on:{close:e.close}},[n("div",{staticClass:"edit-menu-dialog-box"},[n("div",{staticClass:"el-input-box"},[n("el-input",{attrs:{size:"medium",placeholder:"请输入菜单名"},model:{value:e.menuName,callback:function(t){e.menuName=t},expression:"menuName"}})],1),e._v(" "),1==e.editContentType?n("div",{staticClass:"el-input-box"},[n("el-input",{attrs:{size:"medium",placeholder:"请输入链接地址"},model:{value:e.menuUrl,callback:function(t){e.menuUrl=t},expression:"menuUrl"}})],1):e._e(),e._v(" "),1==e.editContentType?n("div",{staticClass:"el-input-box"},[n("el-input",{attrs:{size:"medium",placeholder:"请输入说明"},model:{value:e.menuInfo,callback:function(t){e.menuInfo=t},expression:"menuInfo"}})],1):e._e()]),e._v(" "),n("span",{staticClass:"add-menu-dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary",size:"medium"},on:{click:e.commit}},[e._v(e._s(0==e.editType?"添 加":"修 改"))])],1)])}),[],!1,null,"7991b280",null);t.default=component.exports},448:function(e,t,n){"use strict";n(430)},449:function(e,t,n){var o=n(42)(!1);o.push([e.i,".edit-menu-dialog-box .el-input-box[data-v-7991b280]{margin-bottom:10px}.add-menu-dialog-footer .el-button[data-v-7991b280]{width:200px}",""]),e.exports=o},472:function(e,t,n){var content=n(494);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[e.i,content,""]]),content.locals&&(e.exports=content.locals);(0,n(43).default)("55bc2999",content,!0,{sourceMap:!1})},493:function(e,t,n){"use strict";n(472)},494:function(e,t,n){var o=n(42)(!1);o.push([e.i,".right-page[data-v-7189e245]{font-size:15px;color:#353535;margin:0 10px 50px;padding-top:10px;position:relative}.right-page .group-title-box[data-v-7189e245]{position:relative;display:flex;align-items:center;justify-content:flex-start;padding-top:20px;width:100%}.right-page .group-title-box:hover .home-menu-icon-group-1 .home-menu-icon[data-v-7189e245]{display:flex}.right-page .group-title-box .home-menu-icon-group-1[data-v-7189e245]{display:none;display:flex;align-items:center;justify-content:flex-start}.right-page .group-title-box .home-menu-icon-group-1 .home-menu-icon[data-v-7189e245]{color:#999;padding:5px;font-size:15px;display:none}.right-page .group-title-box .home-menu-icon-group-1 .home-menu-icon[data-v-7189e245]:hover{color:#409eff}.right-page .group-title-box .group-title[data-v-7189e245]{margin:10px;font-size:14px;color:#000;font-weight:700}.right-page .add-menu[data-v-7189e245]{border:1px dashed #d9d9d9;border-radius:4px;cursor:pointer;margin:10px;text-align:center;padding:20px 0}.right-page .add-menu[data-v-7189e245]:focus,.right-page .add-menu[data-v-7189e245]:hover{color:#409eff;border-color:#409eff}.right-page .add-menu-sub[data-v-7189e245]{width:calc(25% - 20px);margin:10px;height:100%}.right-page .item-group[data-v-7189e245]{display:flex;align-items:flex-start;justify-content:flex-start;flex-wrap:wrap;width:100%}.right-page .item-group .item-menu-box[data-v-7189e245]{width:25%;margin:10px 0;position:relative}.right-page .item-group .item-menu-box:hover .home-menu-icon-group[data-v-7189e245]{display:flex}.right-page .item-group .item-menu-box .home-menu-icon-group[data-v-7189e245]{display:none;position:absolute;right:15px;top:5px}.right-page .item-group .item-menu-box .home-menu-icon-group .home-menu-icon[data-v-7189e245]{color:#999;padding:5px;font-size:15px}.right-page .item-group .item-menu-box .home-menu-icon-group .home-menu-icon[data-v-7189e245]:hover{color:#409eff}.right-page .item-group .item-menu-box .item-menu-edit[data-v-7189e245]{cursor:move!important}.right-page .item-group .item-menu-box .item-menu[data-v-7189e245]{min-height:60px;margin:0 10px;background-color:#fff;padding:10px;cursor:pointer;display:flex;align-items:flex-start;justify-content:space-between;flex-direction:column;border:1px solid #dcdcdc}.right-page .item-group .item-menu-box .item-menu[data-v-7189e245]:hover{background-color:rgba(0,0,0,.04)}.right-page .item-group .item-menu-box .item-menu .item-title[data-v-7189e245]{color:#2776ea;font-size:14px}.right-page .item-group .item-menu-box .item-menu .item-info[data-v-7189e245]{min-height:12px;color:#999;font-size:12px;margin-top:5px}",""]),e.exports=o},500:function(e,t,n){"use strict";n.r(t);n(37);var o=n(431),r=n(122),m={props:["isEdit","parent"],components:{AddMenu:o.default},data:function(){return{showMenuEdit:!1,showMenuItem:"",showMenuParent:"",editType:0,editContentType:0,list:[]}},mounted:function(){var e=this;this.$nextTick((function(){e.refresh()}))},methods:{addMenu:function(e,t){this.editType=0,this.showMenuItem="",this.showMenuParent=e,this.editContentType=t,this.showMenuEdit=!0},editMenu:function(e,t){this.editType=1,this.showMenuItem=e,this.showMenuParent="",this.editContentType=t,this.showMenuEdit=!0},deleteMenu:function(e){var t=this;this.$confirm("确定删除该菜单?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$axios.post(r.a.USER_MENU_DELETE,{id:e.id}).then((function(e){t.refresh()})).catch((function(e){t.$message.warning(e.message)}))})).catch((function(){}))},closeAndRefresh:function(){this.showAddMenu=!1,this.refresh()},refresh:function(){var e=this;this.$axios.post(r.a.USER_MENU_LIST,{parentMenuId:this.parent.id}).then((function(t){e.showMenuEdit=!1,e.list=t})).catch((function(t){e.$message.warning(t.message)}))},tipDrag:function(){this.isEdit&&(localStorage.getItem("IS_TIP_DRAG_v1")||this.$alert("拖动可排序","提示",{confirmButtonText:"确定",callback:function(e){localStorage.setItem("IS_TIP_DRAG_v1","1")}}))},onEnd:function(e){var t=this;e.menuList.forEach((function(e,t){e.orderNum=t})),this.$axios.post(r.a.USER_MENU_LIST_EDIT,e.menuList).catch((function(e){t.$message.warning(e.message)}))}}},d=(n(493),n(35)),component=Object(d.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"right-page"},[e._l(e.list,(function(t,o){return n("div",{key:o},[n("div",{staticClass:"group-title-box"},[n("div",{staticClass:"group-title"},[e._v(e._s(t.menuName))]),e._v(" "),e.isEdit?n("div",{staticClass:"home-menu-icon-group-1",on:{click:function(e){e.stopPropagation()}}},[n("i",{staticClass:"home-menu-icon el-icon-edit",on:{click:function(n){return e.editMenu(t,0)}}}),e._v(" "),n("i",{staticClass:"home-menu-icon el-icon-delete",on:{click:function(n){return e.deleteMenu(t)}}})]):e._e()]),e._v(" "),n("draggable",{staticClass:"item-group",attrs:{disabled:!e.isEdit,draggable:".item-menu-box",animation:"250"},on:{end:function(n){return e.onEnd(t)}},model:{value:t.menuList,callback:function(n){e.$set(t,"menuList",n)},expression:"item1.menuList"}},[e._l(t.menuList,(function(t,o){return[n("div",{key:o,staticClass:"item-menu-box"},[n("a",{staticClass:"item-menu",class:{"item-menu-edit":e.isEdit},attrs:{href:t.menuUrl,target:"_blank"},on:{mouseenter:e.tipDrag}},[n("div",{staticClass:"item-title"},[e._v(e._s(t.menuName))]),e._v(" "),n("div",{staticClass:"item-info"},[e._v(e._s(t.menuInfo))])]),e._v(" "),e.isEdit?n("div",{staticClass:"home-menu-icon-group",on:{click:function(e){e.stopPropagation()}}},[n("i",{staticClass:"home-menu-icon el-icon-edit",on:{click:function(n){return e.editMenu(t,1)}}}),e._v(" "),n("i",{staticClass:"home-menu-icon el-icon-delete",on:{click:function(n){return e.deleteMenu(t)}}})]):e._e()])]})),e._v(" "),e.isEdit?n("div",{staticClass:"add-menu add-menu-sub",on:{click:function(n){return e.addMenu(t,1)}}},[n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]):e._e()],2)],1)})),e._v(" "),e.isEdit?n("div",{staticClass:"add-menu",on:{click:function(t){return e.addMenu(e.parent,0)}}},[n("i",{staticClass:"el-icon-plus avatar-uploader-icon"})]):e._e(),e._v(" "),n("add-menu",{attrs:{show:e.showMenuEdit,editType:e.editType,parent:e.showMenuParent,item:e.showMenuItem,editContentType:e.editContentType},on:{close:function(t){e.showMenuEdit=!1},closeAndRefresh:e.closeAndRefresh}})],2)}),[],!1,null,"7189e245",null);t.default=component.exports;installComponents(component,{AddMenu:n(431).default})}}]);